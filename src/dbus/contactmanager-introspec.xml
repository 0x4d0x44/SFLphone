<?xml version="1.0" ?>
<node name="/org/sflphone/SFLphone">
  <interface name="org.sflphone.SFLphone.ContactManager">
    
  <!-- Contacts related methods -->
  
    <!-- Load all contacts and entries -->
  
    <!-- Called by the client to get all saved contactIDs -->
    <!-- Returns array of contactIDs -->
    <method name="getContacts">
      <arg type="s" name="accountID" direction="in"/>
      <arg type="as" name="contactIDs" direction="out"/>
    </method>
    
    <!-- Called by the client to get details on a contact -->
    <!-- Returns first name, last name, email, group, subgroup -->
    <method name="getContactDetails">
      <arg type="s" name="accountID" direction="in"/>
      <arg type="s" name="contactID" direction="in"/>
      <arg type="as" name="details" direction="out"/>
    </method>
    
    <!-- Called for each contact to get all its contact entries id -->
    <!-- Array of contact entries, examples can be : 140, 5141231234... -->
    <method name="getContactEntries">
      <arg type="s" name="accountID" direction="in"/>
      <arg type="s" name="contactID" direction="in"/>
      <arg type="as" name="contactEntryIDs" direction="out"/>
    </method>
    
    <!-- Called for each contact entry to get its details and its presence -->
    <!-- text, type, shown in console, is subscribed to presence -->
    <!-- Example can be : Poste 140, work, TRUE, FALSE, ON_THE_PHONE, WITH 140 -->
    <method name="getContactEntryDetails">
      <arg type="s" name="accountID" direction="in"/>
      <arg type="s" name="contactID" direction="in"/>
      <arg type="s" name="contactEntryID" direction="in"/>
      <arg type="as" name="details" direction="out"/>
    </method>
    
    <!-- Add, edit or remove contact or entry one by one -->
    
    <!-- Called by the client to add or edit one contact -->
    <!-- Adds a contact if the contactID does not exist -->
    <method name="setContact">
      <arg type="s" name="accountID" direction="in"/>
      <arg type="s" name="contactID" direction="in"/>
      <arg type="s" name="firstName" direction="in"/>
      <arg type="s" name="lastName" direction="in"/>
      <arg type="s" name="email" direction="in"/>
      <!-- Groups and subgroups currently unused -->
      <!-- <arg type="s" name="group" direction="in"/> -->
      <!-- <arg type="s" name="subGroup" direction="in"/> -->
    </method>
   
    <!-- Called by the client to remove one contact -->
    <method name="removeContact">
      <arg type="s" name="accountID" direction="in"/>
      <arg type="s" name="contactID" direction="in"/>
    </method>
   
    <!-- Called by the client to add or edit one contact entry -->
    <!-- Adds an entry if the entryID does not exist -->
    <method name="setContactEntry">
      <arg type="s" name="accountID" direction="in"/>
      <arg type="s" name="contactID" direction="in"/>
      <arg type="s" name="entryID" direction="in"/>
      <arg type="s" name="text" direction="in"/>
      <arg type="s" name="type" direction="in"/>
      <arg type="s" name="IsShown" direction="in"/>
      <arg type="s" name="IsSubscribed" direction="in"/>
    </method>
   
    <!-- Called by the client to remove one entry -->
    <method name="removeContactEntry">
      <arg type="s" name="accountID" direction="in"/>
      <arg type="s" name="contactID" direction="in"/>
      <arg type="s" name="entryID" direction="in"/>
    </method>
   
  <!--      ///////////////////////               -->

  <!-- Presence related methods -->
  
    <!-- Called by the client to set its new presence status -->
    <method name="setPresence">
      <arg type="s" name="accountID" direction="in"/>
      <arg type="s" name="presence" direction="in"/>
      <arg type="s" name="additionalInfo" direction="in"/>
    </method>
    
    <!-- Signal from the daemon when a contact presence changes -->
    <signal name="contactEntryPresenceChanged">
      <arg type="s" name="accountID"/>
      <arg type="s" name="entryID"/>
      <arg type="s" name="presence"/>
      <arg type="s" name="additionalInfo"/>
    </signal>

  </interface>
</node>
